# Complete System with 4 Databases + Frontend
# Main API (auth_db) - Port 5010 (changed from 5000 to avoid macOS AirPlay conflict)
# Media Server (media_db) - Port 5011 (changed from 5001) [Backend only]
# Cloud Storage (cloud_db) - Port 5012 (changed from 5002)
# Dental App (dental_db) - Port 5013 (changed from 5003)
# Frontend (React) - Port 3000

services:
  frontend:
    build:
      context: ../frontend
      dockerfile: Dockerfile
    container_name: qhitz-frontend
    ports:
      - "3000:3000"
    environment:
      - REACT_APP_AUTH_API_URL=http://192.168.2.98:5010/api
      - REACT_APP_MEDIA_API_URL=http://192.168.2.98:5011/api
      - REACT_APP_CLOUD_API_URL=http://192.168.2.98:5012/api
      - REACT_APP_DENTAL_API_URL=http://192.168.2.98:5013/api
    depends_on:
      - backend-api
      - backend-media
      - backend-cloud
      - backend-dental
    networks:
      - qhitz-network
    restart: unless-stopped

networks:
  qhitz-network:
    driver: bridge
